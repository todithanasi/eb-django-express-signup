{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Vega Scaffold</title>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script src="http://d3js.org/d3.geo.projection.v0.min.js" charset="utf-8"></script>
    <script src="http://trifacta.github.com/vega/vega.js"></script>
</head>
<body>
<div id="vis"></div>
</body>
<script type="text/javascript">
    // parse a spec and create a visualization view
    function parse(spec) {
        vg.parse.spec(spec, function (chart) {

            chart({el: "#vis"}).update();
        });
    }

   <!-- This code is added to prevent the autoescape and provide the JSON in the correct format in order to be parsed by the chart function. -->
     {% autoescape off %}
		    parse(JSON.parse({{ items_to_show }}));
	 {% endautoescape %}

</script>
</html>